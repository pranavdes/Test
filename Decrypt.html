<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Encrypted Markdown Viewer</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.0.0/crypto-js.min.js"></script>
    <style>
        #status {
            background-color: #f2f2f2;
            padding: 10px;
            border-bottom: 1px solid #ddd;
        }
        #content {
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <div id="status">
        Status: <span id="statusText">Waiting for input...</span>
        <button onclick="decryptContent()">Retry</button>
    </div>
    <div id="content">
        <!-- Decrypted content will be displayed here -->
    </div>

    <script>
        // URL of the encrypted Markdown file on GitHub
        const encryptedFileUrl = 'https://github.com/pranavdes/Test/blob/db7e2aff46cff3ad25649f217538aacbb5275c12/Encrypt.dat';

        // Function to fetch and decrypt content
        async function decryptContent() {
            try {
                // Update status
                document.getElementById('statusText').innerText = 'Fetching encrypted content...';

                // Fetch the encrypted content
                const response = await fetch(encryptedFileUrl);
                const encryptedContent = await response.text();

                // Ask user for the password
                const password = prompt('Please enter the decryption password:');
                if (!password) {
                    document.getElementById('statusText').innerText = 'Decryption cancelled.';
                    return;
                }

                // Decrypt the content
                document.getElementById('statusText').innerText = 'Decrypting content...';
                const bytes = CryptoJS.AES.decrypt(encryptedContent, password);
                const decryptedContent = bytes.toString(CryptoJS.enc.Utf8);

                if (!decryptedContent) {
                    document.getElementById('statusText').innerText = 'Decryption failed. Wrong password?';
                    return;
                }

                // Display the decrypted content
                document.getElementById('content').innerText = decryptedContent;
                document.getElementById('statusText').innerText = 'Decryption successful!';
            } catch (error) {
                document.getElementById('statusText').innerText = 'An error occurred: ' + error.message;
            }
        }

        // Initial call to decrypt content
        decryptContent();
    </script>
</body>
</html>
